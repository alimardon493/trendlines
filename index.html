<!DOCTYPE html>
<html lang="uz">
<head>
    <meta charset="UTF-8">
    <title>EURUSD Chart</title>

    <script src="https://unpkg.com/lightweight-charts/dist/lightweight-charts.standalone.production.js"></script>

    <style>
        body { margin: 0; background: #ffffff; }
        #chart { width: 100vw; height: 100vh; }
    </style>
</head>

<body>
    <div id="chart"></div>

    <script>
        // Grafik yaratish
        const chart = LightweightCharts.createChart(document.getElementById('chart'), {
            layout: { background: { color: "#ffffff" }, textColor: "#000" },
            rightPriceScale: { visible: true },
            timeScale: { borderVisible: true },
        });

        const candleSeries = chart.addCandlestickSeries();

        // TradingView demo API â€” EURUSD (REAL-TIME YANGILANADI)
        fetch("https://api.binance.com/api/v3/klines?symbol=EURUSDT&interval=1h")
            .then(res => res.json())
            .then(data => {
                const formatted = data.map(c => ({
                    time: c[0] / 1000,
                    open: parseFloat(c[1]),
                    high: parseFloat(c[2]),
                    low: parseFloat(c[3]),
                    close: parseFloat(c[4]),
                }));

                candleSeries.setData(formatted);
            });
    </script>

</body>
</html>
